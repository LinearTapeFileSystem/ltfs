.\" auto-generated by docbook2man-spec from docbook-utils package
.TH "MKLTFS" "8" "08 February 2022" "IBM Spectrum Archive" "IBM Spectrum Archive Command Reference"
.SH NAME
mkltfs \- Format a tape in the drive to LTFS format
.SH SYNOPSIS
.sp
\fBmkltfs\fR \fB-d \fIname\fB\fR [ \fB-f\fR ]  [ \fB-s \fIid\fB\fR ]  [ \fB-n \fIname\fB\fR ]  [ \fB-r \fIrules\fB\fR ]  [ \fB-w\fR ]  [ \fB-q\fR ]  [ \fB-t\fR ]  [ \fB-V\fR ]  [ \fB-h\fR ]  [ \fB-p\fR ] 
.SH "DESCRIPTION"
.PP
\fBmkltfs\fR is a program to format a media for use with
the IBM Spectrum Archive.
.SH "OPTIONS"
.PP
These programs follow the usual GNU command line syntax,
with long options starting with two dashes ('-'). A summary of
options is included below. For a complete description, see the
\fBInfo\fR files.
.TP
\fB-d, --device=\fIname\fB\fR
Tape device name (required). On Linux, \fIname\fR is like
\&'/dev/IBMtape0', on OSX, \fIname\fR is like '0'
.TP
\fB-f, --force\fR
Force to format medium
.TP
\fB-s, --tape-serial=\fIid\fB\fR
Tape serial number (6 alphanumeric ASCII characters)
.TP
\fB-n, --volume-name=\fIname\fB\fR
Tape volume name (empty by default)
.TP
\fB-r, --rules=\fIrules\fB\fR
Rules for choosing files to write to the index partition.
The syntax of the rule argument is:

size=1M

size=1M/name=pattern

size=1M/name=pattern1:pattern2:pattern3

A file is written to the index partition if it is no larger
than the given size AND matches at least one of the name
patterns (if specified). The size argument accepts K, M, and G
suffixes. Name patterns might contain the special characters
\&'?' (match any single character) and '*' (match zero or more
characters).
.TP
\fB--no-override\fR
Disallow mount-time data placement policy changes
.TP
\fB-w, --wipe\fR
Restore the LTFS medium to an unpartitioned medium (format to a legacy scratch medium)
.TP
\fB-q, --quiet\fR
Suppress progress information and general messages
.TP
\fB-t, --trace\fR
Enable function call tracing
.TP
\fB--syslogtrace\fR
Enable diagnostic output to stderr and syslog
.TP
\fB-V, --version\fR
Version information
.TP
\fB-h, --help\fR
Show help information
.TP
\fB-p, --advanced-help\fR
Full help, including advanced options
.SS "USAGE EXAMPLE"
.sp
.nf
          /home/piste/ltfs05-sde/bin/mkltfs --device=/dev/IBMtape0 --rules="size=100K"
          /home/piste/ltfs05-sde/bin/mkltfs --device=/dev/IBMtape0 --rules="size=1M/name=*.jpg"
          /home/piste/ltfs05-sde/bin/mkltfs --device=/dev/IBMtape0 --rules="size=1M/name=*.jpg:*.png"
        
.sp
.fi
.PP
.SH "ADVANCED OPTIONS (EXPERIMENTAL)"
.PP
The options described here is experimental functions.
.PP
These programs follow the usual GNU command line syntax,
with long options starting with two dashes ('-'). A summary of
options is included below. For a complete description, see the
\fBInfo\fR files.
.TP
\fB-i, --config=\fIname\fB\fR
Use the specified configuration file (default: )
.TP
\fB-e, --backend=\fIname\fB\fR
Use the specified tape device backend (default: )
.TP
\fB--kmi-backend=\fIname\fB\fR
Use the specified key manager interface backend (default: none)
.TP
\fB-b, --blocksize=\fInum\fB\fR
Set the LTFS record size (default: 524288)
.TP
\fB-c, --no-compression\fR
Disable compression on the volume
.TP
\fB-k, --keep-capacity\fR
Keep the tape medium's total capacity proportion
.TP
\fB-x, --fulltrace\fR
Enable full function call tracing (slow)
.TP
\fB--long-wipe\fR
Unformat the medium and erase any data on the tape by overwriting special data pattern.
This operation takes over 3 hours. Once you start, you cannot interrupt it.
.TP
\fB--destructive\fR
Use destructive format/unformat. This operation takes longer time in the LTO9 drive or later because of the media optimization procedure.
.SH "SEE ALSO"
.PP
ltfs-sde(8), ltfsck(8), tape-backend(4), kmi-backend(4), ltfs.conf(5).

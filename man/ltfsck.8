.\" auto-generated by docbook2man-spec from docbook-utils package
.TH "LTFSCK" "8" "20 January 2022" "LTFS" "LTFS Command Reference"
.SH NAME
ltfsck \- Recover and rollback utility for LTFS formatted tape
.SH SYNOPSIS
.sp
\fBltfsck\fR [ \fB-g \fIgeneration\fB\fR ]  [ \fB-r\fR ]  [ \fB-n\fR ]  [ \fB-f\fR ]  [ \fB-z\fR ]  [ \fB-l\fR ]  [ \fB-m\fR ]  [ \fB-v \fIstrategy\fB\fR ]  [ \fB-j\fR ]  [ \fB-k\fR ]  [ \fB-q\fR ]  [ \fB-t\fR ]  [ \fB-V\fR ]  [ \fB-h\fR ]  [ \fB-p\fR ]  \fB\fIdevice_name\fB\fR
.PP
On Linux, \fIdevice_name\fR is like
\&'/dev/IBMtape0', on OSX, \fIdevice_name\fR is like '0'(default: )
.SH "DESCRIPTION"
.PP
\fBltfsck\fR is a program to recover an inconsistent
LTFS formatted medium and roll back utility of the LTFS.
.SH "OPTIONS"
.PP
These programs follow the usual GNU command line syntax,
with long options starting with two dashes ('-'). A summary of
options is included below. For a complete description, see the
\fBInfo\fR files.
.TP
\fB-g, --generation=\fIgeneration\fB\fR
Specify the generation to roll back
.TP
\fB-r, --rollback\fR
Roll back to the point specified by -g
.TP
\fB-n, --no-rollback\fR
Do not roll back. Verify the point specified by -g (default)
.TP
\fB-f, --full-recovery\fR
Recover extra data blocks into directory _ltfs_lostandfound
.TP
\fB-z, --deep-recovery\fR
Recover EOD missing cartridge.
Some blocks might be erased, but recover to final unmount point
with an index version of at least 2.0.0 or earlier.
.TP
\fB-l, --list-rollback-points\fR
List rollback points
.TP
\fB-m, --full-index-info\fR
Display full index information (Effective only for -l option)
.TP
\fB-v, --traverse=\fIstrategy\fB\fR
Set traverse mode for listing roll back points. Strategy should be forward
or backward. (default: backward)
.TP
\fB-j, --erase-history\fR
Erase history at rollback
.TP
\fB-k, --keep-history\fR
Keep history at rollback (default)
.TP
\fB-q, --quiet\fR
Suppress progress information and general messages
.TP
\fB-t, --trace\fR
Enable function call tracing
.TP
\fB--syslogtrace\fR
Enable diagnostic output to stderr and syslog
.TP
\fB-V, --version\fR
Version information
.TP
\fB-h, --help\fR
Show help information
.TP
\fB-p, --advanced-help\fR
Full help, including advanced options
.SH "ADVANCED OPTIONS (EXPERIMENTAL)"
.PP
The options described here is experimental functions.
.PP
These programs follow the usual GNU command line syntax,
with long options starting with two dashes ('-'). A summary of
options is included below. For a complete description, see the
\fBInfo\fR files.
.TP
\fB-i, --config=\fIname\fB\fR
Use the specified configuration file (default: )
.TP
\fB-e, --backend=\fIname\fB\fR
Use the specified tape device backend (default: )
.TP
\fB--kmi-backend=\fIname\fB\fR
Use the specified key manager interface backend (default: none)
.TP
\fB-x, --fulltrace\fR
Enable full function call tracing (slow)
.TP
\fB--capture-index=\fIdir\fB\fR
Capture indexes read successfully to the specified directory by dir. (-g is effective for this option)
File name of each index is [BARCODE]-[GEN]-[PARTITION].xml if tape serial (barcode)
is specified at format time. Otherwise it is [VOL_UUID]-[GEN]-[PARTITION].xml.
.TP
\fB--salvage-rollback-points\fR
List the rollback points of the cartridge that has no EOD
.SH "SEE ALSO"
.PP
ltfs(8), mkltfs(8), ltfsindextool(8), tape-backend(4), kmi-backend(4), ltfs.conf(5).
